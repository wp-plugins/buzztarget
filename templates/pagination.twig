{# ONLY show pagination if there is more than 1 page for now #}
{% if pagination.total_pages is not sameas(1) %}
    {# Pagination #}
    <section class="content pagination">
        <div class="clearfix">
            <div class="pagination-list">
                {% set searchPart = '' %}
                {% if show_sort_by is sameas('on') and is_sort_by_changed is sameas ('true') %}
                    {% set searchPart = searchPart ~ '&sort_by=' ~ default_sort_by %}
                {% endif %}

                {% if allow_listing_per_page_change is sameas('on') and is_limit_changed is sameas ('true') %}
                    {% set searchPart = searchPart ~ '&limit_per_page=' ~ listing_per_page %}
                {% endif %}
                 {#Next and Previous Page URLs#}
                {% set previousPageURL = pagination.listings_current_page_url ~ pagination.previous_page ~ searchPart %}


                {# Prev page no #}
                {% set previousPage = pagination.current_page - 1 %}

                {# Display previous page if it exists #}
                {% if previousPage is not sameas(0) %}
                    <a href="{{previousPageURL}}" class="">{{previousPage}}</a>
                {% endif %}

                {# Current page #}
                {% set currentPageURL = pagination.listings_current_page_url ~ pagination.current_page ~ searchPart %}

                <a href="{{currentPageURL}}" class="theme-bg">{{ pagination.current_page }}</a>

                {# Next page pages #}
                {% if previousPage is not sameas(0) %}
                    {% set end = 3 %}
                {% else %}
                    {% set end = 4 %}
                {% endif %}

                {% for i in 1..end %}
                    {% set nextPage = pagination.current_page + i %}
                    {% set nextPageURL = pagination.listings_current_page_url ~ nextPage ~ searchPart %}

                    {% if nextPage <= pagination.total_pages %}
                        <a href="{{nextPageURL}}" class="">{{nextPage}}</a>
                    {% endif %}
                {% endfor %}

                {# Previous URL #}
                {% set previousPageURL = pagination.listings_current_page_url ~ pagination.previous_page ~ searchPart %}

                <a href="{{previousPageURL}}" id="bt-pagination-lt" class=""><</a>

                {# Next URL #}
                {% set nextPageURL = pagination.listings_current_page_url ~ pagination.next_page ~ searchPart %}
                <a href="{{nextPageURL}}" id="bt-pagination-gt" class="">></a>
            </div>
        </div>
    </section>
{% endif %}
